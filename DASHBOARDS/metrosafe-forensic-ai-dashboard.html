<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MetroSafe | Forensic AI Analytics</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="android-chrome-512x512.png">

    <style>
        /* --- THEME: NOIR INVESTIGATION --- */
        :root {
            --bg-dark: #050505;
            --panel-dark: #0f0f11;
            --border-color: #27272a;
            --accent-red: #ef4444; /* Evidence Red */
            --accent-dim: #7f1d1d;
            --text-main: #e2e8f0;
            --text-muted: #94a3b8;
            --terminal-green: #22c55e;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-main);
            overflow-x: hidden;
        }

        h1, h2, h3, .mono-font {
            font-family: 'JetBrains Mono', monospace;
        }

        /* --- CRT SCANLINE EFFECT --- */
        .scanlines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(
                to bottom,
                rgba(255,255,255,0),
                rgba(255,255,255,0) 50%,
                rgba(0,0,0,0.1) 50%,
                rgba(0,0,0,0.1)
            );
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.6;
        }
        
        /* Subtle flicker animation */
        @keyframes flicker {
            0% { opacity: 0.97; }
            5% { opacity: 0.95; }
            10% { opacity: 0.9; }
            15% { opacity: 0.95; }
            100% { opacity: 0.97; }
        }
        body { animation: flicker 4s infinite; }

        /* --- UI COMPONENTS --- */
        .glass-panel {
            background: rgba(15, 15, 17, 0.85);
            border: 1px solid var(--border-color);
            backdrop-filter: blur(4px);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }

        .crimson-glow {
            box-shadow: 0 0 15px rgba(239, 68, 68, 0.15);
            border-color: rgba(239, 68, 68, 0.4);
        }

        /* Chart Containers */
        .chart-container {
            position: relative;
            width: 100%;
            height: 400px;
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 2px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--accent-red); }

        /* Terminal Cursor */
        .cursor {
            display: inline-block;
            width: 8px;
            height: 16px;
            background-color: var(--accent-red);
            animation: blink 1s step-end infinite;
        }
        @keyframes blink { 50% { opacity: 0; } }

        /* Loader */
        .loader {
            border: 2px solid #333;
            border-top: 2px solid var(--accent-red);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="antialiased min-h-screen flex flex-col">

    <div class="scanlines"></div>

    <header class="border-b border-stone-800 bg-black/90 sticky top-0 z-50 backdrop-blur-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-3">
                    <div class="w-3 h-3 bg-red-600 rounded-full animate-pulse shadow-[0_0_10px_#ef4444]"></div>
                    <h1 class="text-xl font-bold tracking-widest text-slate-100 uppercase">
                        MetroSafe <span class="text-red-600">///</span> DETECTIVE_MODE
                    </h1>
                </div>
                <div class="hidden md:flex space-x-8 text-xs font-mono tracking-widest text-slate-500">
                    <button onclick="scrollToSection('dashboard')" class="hover:text-red-500 transition uppercase">[ Dashboard ]</button>
                    <button onclick="scrollToSection('ai-terminal')" class="hover:text-red-500 transition uppercase">[ AI_Forensics ]</button>
                    <button onclick="scrollToSection('data-grid')" class="hover:text-red-500 transition uppercase">[ Case_Files ]</button>
                </div>
            </div>
        </div>
    </header>

    <main class="flex-grow">
        
        <section id="dashboard" class="py-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 space-y-12">
            
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                <div class="glass-panel p-4 rounded border-l-4 border-red-600">
                    <div class="text-xs font-mono text-red-500 uppercase mb-1">Current Threat Level</div>
                    <div class="text-2xl font-bold font-mono">CRITICAL</div>
                </div>
                <div class="glass-panel p-4 rounded border-l-4 border-stone-700">
                    <div class="text-xs font-mono text-slate-500 uppercase mb-1">Active Cases (2025)</div>
                    <div class="text-2xl font-bold font-mono text-slate-200">142,892</div>
                </div>
                <div class="glass-panel p-4 rounded border-l-4 border-stone-700">
                    <div class="text-xs font-mono text-slate-500 uppercase mb-1">Cyber Incidents</div>
                    <div class="text-2xl font-bold font-mono text-blue-400">â†‘ 412%</div>
                </div>
                <div class="glass-panel p-4 rounded border-l-4 border-stone-700">
                    <div class="text-xs font-mono text-slate-500 uppercase mb-1">System Status</div>
                    <div class="text-2xl font-bold font-mono text-green-500 text-sm mt-2">ONLINE :: MONITORING</div>
                </div>
            </div>

            <div class="glass-panel rounded-xl overflow-hidden crimson-glow">
                <div class="p-4 border-b border-stone-800 flex justify-between items-center bg-black/40">
                    <div>
                        <h3 class="text-sm font-bold text-red-500 uppercase tracking-wider">/// Temporal Crime Analysis</h3>
                    </div>
                    <select id="trendCrimeSelector" class="bg-black border border-stone-700 text-slate-300 text-xs font-mono rounded px-2 py-1 focus:border-red-500 outline-none">
                        <option value="total">ALL_IPC_CRIMES</option>
                        <option value="murder">HOMICIDE</option>
                        <option value="cyber">CYBER_WARFARE</option>
                        <option value="women">CRIME_AGAINST_WOMEN</option>
                        <option value="economic">FINANCIAL_FRAUD</option>
                    </select>
                </div>
                <div class="p-6 bg-gradient-to-b from-[#0a0a0a] to-[#050505]">
                    <div class="chart-container">
                        <canvas id="trendChart"></canvas>
                    </div>
                </div>
            </div>

            <section id="ai-terminal" class="scroll-mt-24">
                <div class="glass-panel rounded-xl border border-red-900/30 overflow-hidden">
                    <div class="bg-red-900/10 p-3 border-b border-red-900/30 flex justify-between items-center">
                        <div class="flex items-center gap-2">
                            <span class="text-red-500">ðŸ¤–</span>
                            <h3 class="text-sm font-bold text-red-400 font-mono">LOCAL_LLAMA_3.2 // FORENSIC_UNIT</h3>
                        </div>
                        <div class="text-[10px] text-red-800 font-mono">PORT: 11434</div>
                    </div>
                    
                    <div class="p-6 grid grid-cols-1 lg:grid-cols-3 gap-6">
                        <div class="space-y-4">
                            <p class="text-xs text-slate-500 font-mono">Select a target city for AI analysis. Ensure Ollama is running locally.</p>
                            
                            <div class="space-y-2">
                                <label class="text-xs font-mono text-red-500">TARGET_CITY</label>
                                <select id="aiCitySelector" class="w-full bg-black border border-stone-700 text-slate-300 text-sm font-mono p-2 rounded focus:border-red-500 outline-none">
                                    </select>
                            </div>

                            <button onclick="fetchAIInsight()" id="aiBtn" class="w-full py-2 bg-red-900/20 hover:bg-red-600 hover:text-white border border-red-800 text-red-500 font-mono text-xs uppercase tracking-widest transition-all duration-300 group flex justify-center items-center gap-2">
                                <span>Generate_Profile</span>
                                <div id="aiLoader" class="loader hidden"></div>
                            </button>

                            <div class="text-[10px] text-stone-600 font-mono mt-4 border-t border-stone-800 pt-2">
                                * Requires 'ollama serve' with CORS enabled.<br>
                                * Model: llama3.2 (falling back to generic if offline)
                            </div>
                        </div>

                        <div class="lg:col-span-2 bg-black border border-stone-800 rounded p-4 font-mono text-xs leading-relaxed text-green-500 h-[250px] overflow-y-auto shadow-inner relative">
                            <div id="aiOutput">
                                <span class="text-stone-600">> System Ready...</span><br>
                                <span class="text-stone-600">> Waiting for target selection...</span>
                            </div>
                            <span class="cursor"></span>
                        </div>
                    </div>
                </div>
            </section>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="glass-panel rounded-xl">
                    <div class="p-4 border-b border-stone-800 bg-black/40">
                        <h3 class="text-sm font-bold text-slate-300 font-mono uppercase">/// Threat Matrix (Radar)</h3>
                    </div>
                    <div class="p-4">
                         <div class="flex justify-end mb-2">
                            <select id="profileCitySelector" class="bg-black border border-stone-700 text-slate-300 text-xs font-mono rounded px-2 py-1">
                                </select>
                         </div>
                        <div class="h-[300px] relative">
                            <canvas id="radarChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="glass-panel rounded-xl">
                    <div class="p-4 border-b border-stone-800 bg-black/40">
                        <h3 class="text-sm font-bold text-slate-300 font-mono uppercase">/// Regional Comparison</h3>
                    </div>
                    <div class="p-4">
                        <div class="flex gap-2 justify-end mb-2">
                            <select id="barYearSelector" class="bg-black border border-stone-700 text-slate-300 text-xs font-mono rounded px-2 py-1"></select>
                            <select id="barCrimeSelector" class="bg-black border border-stone-700 text-slate-300 text-xs font-mono rounded px-2 py-1">
                                <option value="cyber">Cyber</option>
                                <option value="murder">Homicide</option>
                                <option value="women">Women</option>
                            </select>
                        </div>
                        <div class="h-[300px] relative">
                            <canvas id="barChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

        </section>

        <section id="data-grid" class="bg-[#020202] border-t border-stone-800 py-10">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="mb-6 flex items-center justify-between">
                    <h3 class="text-lg font-bold text-slate-300 font-mono">/// EVIDENCE_LOGS_2000-2025</h3>
                    <button onclick="downloadCSV()" class="text-xs text-red-500 hover:text-red-400 font-mono border border-red-900 px-3 py-1 rounded hover:bg-red-900/20">DOWNLOAD_CSV</button>
                </div>

                <div class="glass-panel rounded border border-stone-800 overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-stone-800 font-mono text-xs">
                            <thead class="bg-stone-900/50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-slate-500 uppercase">Year</th>
                                    <th class="px-6 py-3 text-left text-slate-500 uppercase">City</th>
                                    <th class="px-6 py-3 text-left text-slate-500 uppercase">Homicide</th>
                                    <th class="px-6 py-3 text-left text-red-500 uppercase">Cyber</th>
                                    <th class="px-6 py-3 text-left text-slate-500 uppercase">Women</th>
                                    <th class="px-6 py-3 text-left text-slate-500 uppercase">Fraud</th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-stone-800 text-slate-400" id="tableBody">
                                </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-black border-t border-stone-900 py-8 text-xs text-stone-600 font-mono text-center">
        <p>RESTRICTED ACCESS // LEVEL 5 CLEARANCE REQUIRED</p>
        <p class="mt-2">MetroSafe System v4.2.1 | Powered by Chart.js & Ollama</p>
    </footer>

    <script>
        // --- 1. DATA SIMULATION (The "Database") ---
        const cities = ['Delhi', 'Mumbai', 'Bengaluru', 'Chennai', 'Kolkata', 'Hyderabad'];
        const years = Array.from({length: 26}, (_, i) => 2000 + i);
        
        // Simulation factors (Keeping logic from previous version, adapted)
        const cityFactors = {
            'Delhi': { pop: 160, murderBase: 450, cyberBase: 15, womenBase: 3500, ecoBase: 900, growth: 1.02 },
            'Mumbai': { pop: 180, murderBase: 160, cyberBase: 25, womenBase: 1800, ecoBase: 1300, growth: 1.01 },
            'Bengaluru': { pop: 85, murderBase: 200, cyberBase: 80, womenBase: 700, ecoBase: 600, growth: 1.04 },
            'Chennai': { pop: 87, murderBase: 130, cyberBase: 20, womenBase: 450, ecoBase: 450, growth: 1.02 },
            'Kolkata': { pop: 140, murderBase: 60, cyberBase: 12, womenBase: 1300, ecoBase: 700, growth: 1.005 },
            'Hyderabad': { pop: 70, murderBase: 100, cyberBase: 40, womenBase: 900, ecoBase: 500, growth: 1.03 }
        };

        const dataset = [];

        cities.forEach(city => {
            const stats = cityFactors[city];
            let currentPop = stats.pop;
            years.forEach(year => {
                currentPop = currentPop * stats.growth;
                const idx = year - 2000;
                // Cyber crime explodes after 2015
                const cyberMult = year > 2015 ? Math.pow(1.25, idx - 15) : 1 + (idx * 0.1);
                const noise = () => 0.85 + Math.random() * 0.3; // Variance

                dataset.push({
                    Year: year,
                    City: city,
                    Population: parseFloat(currentPop.toFixed(2)),
                    Murder: Math.round(stats.murderBase * noise()),
                    Kidnapping: Math.round(stats.murderBase * 1.5 * noise()),
                    CrimeAgainstWomen: Math.round(stats.womenBase * (1 + idx*0.03) * noise()),
                    CyberCrimes: Math.round(stats.cyberBase * cyberMult * noise()),
                    EconomicOffences: Math.round(stats.ecoBase * (1 + idx*0.06) * noise()),
                    CrimeAgainstChildren: Math.round(stats.womenBase * 0.25 * noise()),
                    CrimeAgainstSC: Math.round(stats.murderBase * 0.3 * noise())
                });
            });
        });

        // --- 2. CHART CONFIGURATION (Dark Theme) ---
        Chart.defaults.color = '#64748b';
        Chart.defaults.font.family = '"JetBrains Mono", monospace';
        const gridColor = '#1f2937';

        // --- 3. STATE & INIT ---
        let state = {
            trendCrime: 'total',
            profileCity: 'Delhi',
            barYear: 2025,
            barCrime: 'cyber'
        };

        let trendChart, radarChart, barChart;

        document.addEventListener('DOMContentLoaded', () => {
            populateSelectors();
            renderTable();
            initCharts();
            updateDashboard();
            
            // Listeners
            document.getElementById('trendCrimeSelector').addEventListener('change', (e) => { state.trendCrime = e.target.value; updateTrendChart(); });
            document.getElementById('profileCitySelector').addEventListener('change', (e) => { state.profileCity = e.target.value; updateRadarChart(); });
            document.getElementById('barYearSelector').addEventListener('change', (e) => { state.barYear = parseInt(e.target.value); updateBarChart(); });
            document.getElementById('barCrimeSelector').addEventListener('change', (e) => { state.barCrime = e.target.value; updateBarChart(); });
        });

        function populateSelectors() {
            const citiesOpts = cities.map(c => `<option value="${c}">${c}</option>`).join('');
            document.getElementById('profileCitySelector').innerHTML = citiesOpts;
            document.getElementById('aiCitySelector').innerHTML = citiesOpts;
            
            const yearOpts = [...years].reverse().map(y => `<option value="${y}">${y}</option>`).join('');
            document.getElementById('barYearSelector').innerHTML = yearOpts;
        }

        // --- 4. CHARTS ---
        function initCharts() {
            // Trend
            const ctxTrend = document.getElementById('trendChart').getContext('2d');
            trendChart = new Chart(ctxTrend, {
                type: 'line',
                data: { labels: years, datasets: [] },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: { mode: 'index', intersect: false },
                    plugins: { legend: { labels: { color: '#94a3b8' } } },
                    scales: {
                        y: { grid: { color: gridColor }, ticks: { color: '#94a3b8' } },
                        x: { grid: { display: false }, ticks: { color: '#94a3b8' } }
                    }
                }
            });

            // Radar
            const ctxRadar = document.getElementById('radarChart').getContext('2d');
            radarChart = new Chart(ctxRadar, {
                type: 'radar',
                data: { labels: ['Homicide', 'Kidnap', 'Women', 'Children', 'Cyber', 'Fraud'], datasets: [] },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: '#333' },
                            grid: { color: '#222' },
                            pointLabels: { color: '#ef4444', font: { size: 10 } },
                            ticks: { display: false, backdropColor: 'transparent' }
                        }
                    },
                    plugins: { legend: { display: false } }
                }
            });

            // Bar
            const ctxBar = document.getElementById('barChart').getContext('2d');
            barChart = new Chart(ctxBar, {
                type: 'bar',
                data: { labels: [], datasets: [] },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { grid: { color: gridColor }, ticks: { color: '#94a3b8' } },
                        x: { grid: { display: false }, ticks: { color: '#94a3b8' } }
                    }
                }
            });
        }

        function updateTrendChart() {
            const colors = ['#ef4444', '#3b82f6', '#10b981', '#f59e0b', '#8b5cf6', '#ec4899'];
            trendChart.data.datasets = cities.map((city, i) => {
                const data = dataset.filter(d => d.City === city).map(d => {
                    if(state.trendCrime === 'total') return d.Murder + d.Kidnapping + d.CrimeAgainstWomen + d.CyberCrimes + d.EconomicOffences;
                    const map = { 'murder': d.Murder, 'cyber': d.CyberCrimes, 'women': d.CrimeAgainstWomen, 'economic': d.EconomicOffences };
                    return map[state.trendCrime];
                });
                return {
                    label: city,
                    data: data,
                    borderColor: colors[i],
                    backgroundColor: colors[i],
                    borderWidth: 2,
                    tension: 0.4,
                    pointRadius: 0,
                    pointHoverRadius: 6
                };
            });
            trendChart.update();
        }

        function updateRadarChart() {
            const d = dataset.find(x => x.City === state.profileCity && x.Year === 2024);
            if(!d) return;
            // Normalized look for visual shape
            radarChart.data.datasets = [{
                label: '2024 Profile',
                data: [d.Murder, d.Kidnapping, d.CrimeAgainstWomen, d.CrimeAgainstChildren, d.CyberCrimes, d.EconomicOffences],
                backgroundColor: 'rgba(239, 68, 68, 0.2)',
                borderColor: '#ef4444',
                borderWidth: 2,
                pointBackgroundColor: '#fff'
            }];
            radarChart.update();
        }

        function updateBarChart() {
            const map = { 'murder': 'Murder', 'women': 'CrimeAgainstWomen', 'cyber': 'CyberCrimes' };
            const prop = map[state.barCrime];
            const data = dataset.filter(d => d.Year === state.barYear).sort((a,b) => b[prop] - a[prop]);
            
            barChart.data.labels = data.map(d => d.City);
            barChart.data.datasets = [{
                data: data.map(d => d[prop]),
                backgroundColor: '#ef4444',
                barThickness: 20
            }];
            barChart.update();
        }

        function updateDashboard() {
            updateTrendChart();
            updateRadarChart();
            updateBarChart();
        }

        // --- 5. OLLAMA AI INTEGRATION ---
        async function fetchAIInsight() {
            const btn = document.getElementById('aiBtn');
            const loader = document.getElementById('aiLoader');
            const output = document.getElementById('aiOutput');
            const city = document.getElementById('aiCitySelector').value;
            
            // Get data for context
            const cityData = dataset.filter(d => d.City === city);
            const latest = cityData[cityData.length - 1]; // 2025
            const start = cityData[0]; // 2000
            
            const prompt = `
                You are a gritty, noir detective analyzing crime statistics. 
                Data for ${city}: 
                In 2000, Cyber Crime was ${start.CyberCrimes}. In 2025, it is ${latest.CyberCrimes}.
                Murders went from ${start.Murder} to ${latest.Murder}.
                Provide a 3-sentence "Detective's Log" analysis. Be dramatic, mention "suspects" or "digital shadows". 
                Do not use markdown. Just raw text.
            `;

            // UI States
            btn.disabled = true;
            loader.classList.remove('hidden');
            output.innerHTML = `<span class="text-yellow-500">> ESTABLISHING SECURE CONNECTION TO LOCALHOST:11434...</span><br>`;

            try {
                // Attempt connection to local Ollama
                const response = await fetch('http://localhost:11434/api/generate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        model: "llama3.2",
                        prompt: prompt,
                        stream: false
                    })
                });

                if (!response.ok) throw new Error('Ollama not reachable');

                const data = await response.json();
                const aiText = data.response;
                
                // Typewriter effect
                typeWriter(aiText, output);

            } catch (error) {
                console.error(error);
                output.innerHTML += `<br><span class="text-red-500">> CONNECTION FAILED.</span><br><span class="text-stone-500">> Make sure Ollama is running with 'ollama serve' and CORS is enabled.</span><br><span class="text-stone-500">> FALLBACK PROTOCOL INITIATED...</span><br><br>`;
                
                // Fallback fake response if local AI fails
                const fallback = `[OFFLINE MODE] The digital trail in ${city} is cold. Cyber activity has spiked by ${(latest.CyberCrimes/start.CyberCrimes).toFixed(1)}x. It's not just street crime anymore; the villains are in the wires. We need more intel.`;
                typeWriter(fallback, output);
            } finally {
                btn.disabled = false;
                loader.classList.add('hidden');
            }
        }

        function typeWriter(text, element) {
            element.innerHTML += `<span class="text-green-400">> REPORT RECEIVED:</span><br>`;
            let i = 0;
            const speed = 30; 
            
            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    element.scrollTop = element.scrollHeight;
                    setTimeout(type, speed);
                }
            }
            type();
        }

        // --- 6. DATA GRID ---
        function renderTable() {
            const tbody = document.getElementById('tableBody');
            const data = [...dataset].reverse().slice(0, 50);
            tbody.innerHTML = data.map(row => `
                <tr class="hover:bg-white/5 transition">
                    <td class="px-6 py-4">${row.Year}</td>
                    <td class="px-6 py-4 text-white">${row.City}</td>
                    <td class="px-6 py-4">${row.Murder}</td>
                    <td class="px-6 py-4 text-red-400 glow">${row.CyberCrimes}</td>
                    <td class="px-6 py-4">${row.CrimeAgainstWomen}</td>
                    <td class="px-6 py-4">${row.EconomicOffences}</td>
                </tr>
            `).join('');
        }

        function scrollToSection(id) { document.getElementById(id).scrollIntoView({ behavior: 'smooth' }); }
        
        function downloadCSV() {
            const headers = Object.keys(dataset[0]).join(',');
            const rows = dataset.map(obj => Object.values(obj).join(','));
            const blob = new Blob([headers + '\n' + rows.join('\n')], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'METROSAFE_EVIDENCE.csv';
            a.click();
        }
    </script>
</body>
</html>