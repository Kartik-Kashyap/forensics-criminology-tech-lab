<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forensic Suspect Detection System | Control Room</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
           <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üëÅÔ∏è</text></svg>">

</head>
<body>
    <!-- Top Bar -->
    <div class="topbar">
        <div class="topbar-left">
            <div class="logo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <circle cx="12" cy="12" r="10"/>
                    <circle cx="12" cy="12" r="3"/>
                    <line x1="12" y1="2" x2="12" y2="5"/>
                    <line x1="12" y1="19" x2="12" y2="22"/>
                    <line x1="2" y1="12" x2="5" y2="12"/>
                    <line x1="19" y1="12" x2="22" y2="12"/>
                </svg>
                <span>FORENSIC SDS</span>
            </div>
            <div class="system-status">
                <span class="status-indicator" id="systemStatusIndicator"></span>
                <span id="systemStatusText">STANDBY</span>
            </div>
        </div>
        <div class="topbar-center">
            <div class="datetime" id="datetime"></div>
        </div>
        <div class="topbar-right">
            <button class="btn btn-start" id="btnStart" onclick="startSystem()">START SYSTEM</button>
            <button class="btn btn-stop" id="btnStop" onclick="stopSystem()" disabled>STOP SYSTEM</button>
            <button class="btn btn-report" id="btnReport" onclick="generateReport()">GENERATE REPORT</button>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Left Panel: Camera Feeds -->
        <div class="panel panel-cameras">
            <div class="panel-header">
                <h2>LIVE SURVEILLANCE</h2>
                <span class="badge" id="cameraCount">0 CAMERAS</span>
            </div>
            <div class="camera-grid" id="cameraGrid">
                <div class="camera-placeholder">
                    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                        <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                        <circle cx="12" cy="13" r="4"/>
                    </svg>
                    <p>NO ACTIVE CAMERAS</p>
                    <p class="small">Start system to initialize</p>
                </div>
            </div>
        </div>

        <!-- Center Panel: Alerts -->
        <div class="panel panel-alerts">
            <div class="panel-header">
                <h2>ACTIVE ALERTS</h2>
                <div class="alert-stats">
                    <span class="stat">
                        <span class="stat-value" id="alertCount">0</span>
                        <span class="stat-label">TOTAL</span>
                    </span>
                    <span class="stat">
                        <span class="stat-value critical" id="criticalCount">0</span>
                        <span class="stat-label">CRITICAL</span>
                    </span>
                    <span class="stat">
                        <span class="stat-value high" id="highCount">0</span>
                        <span class="stat-label">HIGH</span>
                    </span>
                </div>
            </div>
            <div class="alert-list" id="alertList">
                <div class="no-alerts">
                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                        <line x1="12" y1="9" x2="12" y2="13"/>
                        <line x1="12" y1="17" x2="12.01" y2="17"/>
                    </svg>
                    <p>NO ACTIVE ALERTS</p>
                </div>
            </div>
        </div>

        <!-- Right Panel: Watchlist -->
        <div class="panel panel-watchlist">
            <div class="panel-header">
                <h2>WATCHLIST</h2>
                <button class="btn-icon" onclick="refreshWatchlist()" title="Refresh">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"/>
                    </svg>
                </button>
            </div>
            <div class="watchlist-controls">
                <input type="text" class="search-input" placeholder="Search watchlist..." id="watchlistSearch">
            </div>
            <div class="watchlist-list" id="watchlistList">
                <div class="loading">Loading watchlist...</div>
            </div>
        </div>
    </div>

    <!-- Bottom Bar: System Info -->
    <div class="bottombar">
        <div class="info-group">
            <span class="info-label">System Version:</span>
            <span class="info-value">1.0.0-MVP</span>
        </div>
        <div class="info-group">
            <span class="info-label">Model:</span>
            <span class="info-value">InsightFace Buffalo-L</span>
        </div>
        <div class="info-group">
            <span class="info-label">Watchlist Entries:</span>
            <span class="info-value" id="watchlistCount">0</span>
        </div>
        <div class="info-group">
            <span class="info-label">Detection Log:</span>
            <span class="info-value">Active</span>
        </div>
        <div class="info-group">
            <span class="info-label">Legal Compliance:</span>
            <span class="info-value">GDPR / Human-in-Loop</span>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
</body>
</html>